<img width="128" height="128" alt="chaonima logo" src="https://github.com/user-attachments/assets/88a087bb-e96c-4676-87d6-4364cb0ff869" />

# chaonima

ä¸€ä¸ªç”¨äºæ€»ç»“ V2EX å¸–å­å’Œè¯„è®ºçš„æµè§ˆå™¨æ‰©å±•ã€‚

## Features

- ğŸ¤– ä½¿ç”¨ AI æ™ºèƒ½æ€»ç»“ V2EX å¸–å­å’Œè¯„è®º
- âš™ï¸ æ”¯æŒè‡ªå®šä¹‰ API é…ç½®ï¼ˆURLã€å¯†é’¥ã€æ¨¡å‹ï¼‰
- ğŸ¯ æ”¯æŒæ‰€æœ‰ OpenAI å…¼å®¹çš„ AI æ¨¡å‹ï¼ˆGPTã€Claudeã€æœ¬åœ°æ¨¡å‹ç­‰ï¼‰
- ğŸ”„ è‡ªåŠ¨è·å–å¯ç”¨æ¨¡å‹åˆ—è¡¨
- ğŸ§  æ”¯æŒå¯ç”¨/ç¦ç”¨æ€è€ƒæ¨¡å¼ï¼ˆéœ€è¦æ¨¡å‹æ”¯æŒï¼‰
- ğŸ“Š æ˜¾ç¤ºè·å–è¯„è®ºè¿›åº¦
- ğŸ’¾ æœ¬åœ°å­˜å‚¨é…ç½®ï¼Œæ— éœ€é‡æ–°æ„å»ºæ‰©å±•
- ğŸ¨ ç¾è§‚çš„è®¾ç½®ç•Œé¢

## Install

### ä»æºç æ„å»ºå®‰è£…

æœ¬é¡¹ç›®ç›®å‰**æœªåœ¨ Chrome Web Store ä¸Šæ¶**ï¼Œéœ€è¦ä»æºç æ„å»ºå®‰è£…ã€‚è¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

#### 1. å…‹éš†ä»“åº“å¹¶å®‰è£…ä¾èµ–

```bash
git clone https://github.com/mybot102/chaonima.git
cd chaonima
bun install  # æˆ–ä½¿ç”¨ npm install
```

#### 2. æ„å»ºæ‰©å±•

```bash
cd packages/ext
bun run build  # æ„å»º Chrome æ‰©å±•
# æˆ–
bun run build:firefox  # æ„å»º Firefox æ‰©å±•
```

æ„å»ºå®Œæˆåï¼Œæ‰©å±•æ–‡ä»¶ä¼šç”Ÿæˆåœ¨é¡¹ç›®æ ¹ç›®å½•çš„ `dist` æ–‡ä»¶å¤¹ä¸­ï¼š
- Chrome: `dist/chrome-mv3/`
- Firefox: `dist/firefox-mv2/`

#### 3. åœ¨æµè§ˆå™¨ä¸­åŠ è½½æ‰©å±•

**Chrome/Edge:**
1. æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® `chrome://extensions/`
2. å¼€å¯å³ä¸Šè§’çš„"å¼€å‘è€…æ¨¡å¼"
3. ç‚¹å‡»"åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº"
4. é€‰æ‹©é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ `dist/chrome-mv3` ç›®å½•

**Firefox:**
1. è®¿é—® `about:debugging#/runtime/this-firefox`
2. ç‚¹å‡»"ä¸´æ—¶è½½å…¥é™„åŠ ç»„ä»¶"
3. é€‰æ‹©é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ `dist/firefox-mv2/manifest.json` æ–‡ä»¶

> âš ï¸ **é‡è¦æç¤º**ï¼šä¸è¦å°è¯•ç›´æ¥åŠ è½½ `packages/ext` æºç ç›®å½•ï¼Œè¿™ä¼šå¯¼è‡´"æ¸…å•æ–‡ä»¶ç¼ºå¤±"é”™è¯¯ã€‚å¿…é¡»å…ˆæ„å»ºï¼Œç„¶ååŠ è½½ `dist` ç›®å½•ä¸­çš„æ„å»ºäº§ç‰©ã€‚

#### 4. ä» GitHub Actions ä¸‹è½½æ„å»ºäº§ç‰©ï¼ˆæ¨èï¼‰

æ¯æ¬¡ä»£ç æ¨é€åˆ° GitHub åï¼ŒGitHub Actions ä¼šè‡ªåŠ¨æ„å»ºå¹¶æ‰“åŒ…æ‰©å±•ã€‚ä½ å¯ä»¥ï¼š
1. è®¿é—®ä»“åº“çš„ [Actions](https://github.com/mybot102/chaonima/actions) é¡µé¢
2. é€‰æ‹©æœ€æ–°çš„æ„å»ºä»»åŠ¡
3. åœ¨ Artifacts éƒ¨åˆ†ä¸‹è½½æ„å»ºå¥½çš„æ‰©å±• ZIP åŒ…æˆ–æ„å»ºç›®å½•
4. è§£å‹åæŒ‰ç…§ä¸Šè¿°æ­¥éª¤åŠ è½½åˆ°æµè§ˆå™¨

## Configuration

å®‰è£…æ‰©å±•åï¼Œç‚¹å‡»æ‰©å±•å›¾æ ‡ï¼Œç„¶åç‚¹å‡»"âš™ï¸ è®¾ç½®"æŒ‰é’®å³å¯é…ç½®ï¼š

- **OpenAI åŸºç¡€åœ°å€**ï¼ˆå¯é€‰ï¼‰- è‡ªå®šä¹‰ OpenAI API ç«¯ç‚¹ï¼ˆæ”¯æŒ Azure OpenAIã€æœ¬åœ°æœåŠ¡ç­‰ï¼Œç•™ç©ºä½¿ç”¨å®˜æ–¹ APIï¼‰
- **AI API Key** - AI æœåŠ¡çš„ API å¯†é’¥ï¼ˆ[OpenAI](https://platform.openai.com/api-keys) æˆ–å…¼å®¹ OpenAI API çš„æœåŠ¡ï¼‰
- **V2EX Personal Access Token** - ç”¨äºè®¿é—® V2EX API è·å–å¸–å­å†…å®¹ï¼ˆ[è·å– Token](https://www.v2ex.com/settings/tokens)ï¼‰
- **æ¨¡å‹** - é€‰æ‹©å¸¸ç”¨æ¨¡å‹ã€ä» API è‡ªåŠ¨è·å–çš„å¯ç”¨æ¨¡å‹ï¼Œæˆ–è¾“å…¥è‡ªå®šä¹‰æ¨¡å‹åç§°
- **æ€è€ƒæ¨¡å¼** - å¯ç”¨åï¼Œæ¨¡å‹ä¼šæ˜¾ç¤ºå…¶æ€è€ƒè¿‡ç¨‹ï¼ˆéœ€è¦æ¨¡å‹æ”¯æŒï¼‰

### æ¶æ„è¯´æ˜

Chaonima ä½¿ç”¨ç›´è¿æ¶æ„ï¼Œæ— éœ€ç‹¬ç«‹åç«¯æœåŠ¡å™¨ï¼š

```
æµè§ˆå™¨æ‰©å±• â†’ V2EX APIï¼ˆè·å–å†…å®¹ï¼‰â†’ OpenAI å…¼å®¹ API
```

**å·¥ä½œæµç¨‹ï¼š**
1. **è·å–å†…å®¹**ï¼šä½¿ç”¨ V2EX API è·å–å¸–å­å’Œå›å¤ï¼ˆå›ºå®šç«¯ç‚¹ï¼š`https://www.v2ex.com/api/v2/`ï¼‰
   - è‡ªåŠ¨ç¿»é¡µè·å–æ‰€æœ‰è¯„è®º
   - æ˜¾ç¤ºè·å–è¿›åº¦
2. **AI æ€»ç»“**ï¼šè°ƒç”¨ OpenAI å…¼å®¹ API è¿›è¡Œæ€»ç»“
   - æ‰€æœ‰æ¨¡å‹ç»Ÿä¸€ä½¿ç”¨ OpenAI API æ ¼å¼
   - æ”¯æŒè‡ªå®šä¹‰ base URLï¼ˆå¯ç”¨äº Azure OpenAIã€æœ¬åœ°æœåŠ¡ç­‰ï¼‰
   - æµå¼æ˜¾ç¤º AI ç”Ÿæˆçš„æ€»ç»“
   - æ”¯æŒæ˜¾ç¤ºæ¨¡å‹çš„æ€è€ƒè¿‡ç¨‹ï¼ˆå¦‚æœå¯ç”¨ä¸”æ¨¡å‹æ”¯æŒï¼‰

**æ”¯æŒçš„ AI ç«¯ç‚¹ï¼š**
- âœ… OpenAI å®˜æ–¹ APIï¼ˆé»˜è®¤ï¼š`https://api.openai.com/v1`ï¼‰
- âœ… Azure OpenAIï¼ˆè‡ªå®šä¹‰ base URLï¼‰
- âœ… æœ¬åœ° OpenAI å…¼å®¹æœåŠ¡ï¼ˆOllamaã€LM Studioã€vLLM ç­‰ï¼‰
- âœ… å…¶ä»–å…¼å®¹ OpenAI API çš„æœåŠ¡

### é…ç½®ç¤ºä¾‹

#### ä½¿ç”¨ OpenAI å®˜æ–¹ API
```
OpenAI åŸºç¡€åœ°å€ï¼šï¼ˆç•™ç©ºï¼Œä½¿ç”¨é»˜è®¤å€¼ï¼‰
AI API Key: sk-proj-...
æ¨¡å‹: gpt-4o æˆ– gpt-4o-mini
```

#### ä½¿ç”¨ Azure OpenAI
```
OpenAI åŸºç¡€åœ°å€ï¼šhttps://your-resource.openai.azure.com
AI API Key: Azure API Key
æ¨¡å‹: gpt-4o
```

#### ä½¿ç”¨æœ¬åœ° Ollama
```
OpenAI åŸºç¡€åœ°å€ï¼šhttp://localhost:11434/v1
AI API Key: ollamaï¼ˆå¯ç•™ç©ºï¼ŒæŸäº›ç‰ˆæœ¬éœ€è¦ï¼‰
æ¨¡å‹: llama3 æˆ– qwen2.5
```

#### ä½¿ç”¨æœ¬åœ° LM Studio
```
OpenAI åŸºç¡€åœ°å€ï¼šhttp://localhost:1234/v1
AI API Key: lm-studioï¼ˆå¯ç•™ç©ºï¼‰
æ¨¡å‹: ä½ æœ¬åœ°è¿è¡Œçš„æ¨¡å‹åç§°
```

#### ä½¿ç”¨å…¶ä»–å…¼å®¹ OpenAI API çš„æœåŠ¡
```
OpenAI åŸºç¡€åœ°å€ï¼šä½ çš„æœåŠ¡åœ°å€
AI API Key: ä½ çš„ API Key
æ¨¡å‹: æœåŠ¡æ”¯æŒçš„æ¨¡å‹åç§°
```

> ğŸ’¡ **æç¤º**ï¼šè®¾ç½®é¡µé¢æ”¯æŒè‡ªåŠ¨è·å–å¯ç”¨æ¨¡å‹åˆ—è¡¨ã€‚é…ç½®å¥½ API Key å’ŒåŸºç¡€åœ°å€åï¼Œç‚¹å‡»"åˆ·æ–°æ¨¡å‹åˆ—è¡¨"å³å¯çœ‹åˆ°è¯¥æœåŠ¡æ”¯æŒçš„æ‰€æœ‰æ¨¡å‹ã€‚

### V2EX API ä½¿ç”¨

æ‰©å±•ä½¿ç”¨ V2EX API 2.0 Beta è·å–å¸–å­å†…å®¹ï¼š
- å›ºå®šç«¯ç‚¹ï¼š`https://www.v2ex.com/api/v2/`
- æ— éœ€é¡µé¢è·³è½¬ï¼Œç”¨æˆ·ä½“éªŒæ›´å¥½
- è‡ªåŠ¨è·å–æ‰€æœ‰å›å¤ï¼ˆæ”¯æŒåˆ†é¡µï¼‰
- Rate Limitï¼š120 æ¬¡/å°æ—¶

## Development

### é¡¹ç›®ç»“æ„

- **`packages/ext`** - æµè§ˆå™¨æ‰©å±•ä»£ç ï¼Œä½¿ç”¨ [WXT](https://wxt.dev/) æ„å»º
- **`packages/preview`** - åŸºäº Vite çš„ React åº”ç”¨ï¼Œç”¨äºé¢„è§ˆæ‰©å±•ç»„ä»¶
- **`packages/api`** - Deno åç«¯æœåŠ¡ï¼ˆå·²å¼ƒç”¨ï¼Œæ‰©å±•ç°åœ¨ç›´æ¥è°ƒç”¨ AI APIï¼‰

### å¼€å‘å‘½ä»¤

```sh
# å®‰è£…ä¾èµ–
bun install

# å¼€å‘æ¨¡å¼è¿è¡Œæ‰©å±•ï¼ˆChromeï¼‰
cd packages/ext
bun run dev

# å¼€å‘æ¨¡å¼è¿è¡Œæ‰©å±•ï¼ˆFirefoxï¼‰
cd packages/ext
bun run dev:firefox

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬ï¼ˆChromeï¼‰
cd packages/ext
bun run build

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬ï¼ˆFirefoxï¼‰
cd packages/ext
bun run build:firefox

# æ‰“åŒ…æˆ ZIPï¼ˆChromeï¼‰
cd packages/ext
bun run zip

# æ‰“åŒ…æˆ ZIPï¼ˆFirefoxï¼‰
cd packages/ext
bun run zip:firefox

# å¼€å‘é¢„è§ˆåº”ç”¨
bun run -F preview dev
```

### æ„å»ºè¾“å‡º

æ„å»ºäº§ç‰©ä½äºé¡¹ç›®æ ¹ç›®å½•çš„ `dist` æ–‡ä»¶å¤¹ï¼š
- Chrome: `dist/chrome-mv3/`
- Firefox: `dist/firefox-mv2/`
- ZIP åŒ…: `dist/*.zip`

### è‡ªåŠ¨å‘å¸ƒ Release

å½“æ¨é€ä»¥ `v` å¼€å¤´çš„ tag æ—¶ï¼ˆä¾‹å¦‚ `v0.0.4`ï¼‰ï¼ŒGitHub Actions ä¼šè‡ªåŠ¨ï¼š
1. æ„å»º Chrome å’Œ Firefox æ‰©å±•
2. æ‰“åŒ…æˆ ZIP æ–‡ä»¶
3. åˆ›å»º GitHub Release
4. ä¸Šä¼  ZIP æ–‡ä»¶åˆ° Release

**å‘å¸ƒæ­¥éª¤ï¼š**
```bash
# 1. æ›´æ–°ç‰ˆæœ¬å·ï¼ˆåœ¨ packages/ext/package.json ä¸­ï¼‰
# 2. æäº¤æ›´æ”¹
git add packages/ext/package.json
git commit -m "æ›´æ–°ç‰ˆæœ¬å·åˆ° 0.0.5"

# 3. åˆ›å»ºå¹¶æ¨é€ tag
git tag v0.0.5
git push origin main
git push origin v0.0.5
```

å‘å¸ƒåï¼Œå¯ä»¥åœ¨ [Releases](https://github.com/mybot102/chaonima/releases) é¡µé¢ä¸‹è½½æ„å»ºå¥½çš„æ‰©å±•ã€‚

### ğŸ“š è¯¦ç»†æ–‡æ¡£

- [æ‰©å±•å¿«é€Ÿå¼€å§‹æŒ‡å—](./packages/ext/QUICK_START.md) - å¦‚ä½•æ„å»ºå’Œå®‰è£…æ‰©å±•
- [æ‰©å±•å¼€å‘æ–‡æ¡£](./packages/ext/README.md) - å¼€å‘å’Œæ„å»ºè¯´æ˜
- [API æ–‡æ¡£](./packages/api/README.md) - åç«¯ API æ–‡æ¡£

### âš ï¸ å¸¸è§é—®é¢˜

**é—®ï¼šä¸ºä»€ä¹ˆæµè§ˆå™¨æç¤º"æ¸…å•æ–‡ä»¶ç¼ºå¤±"ï¼Ÿ**

ç­”ï¼šä½ å¯èƒ½å°è¯•ç›´æ¥åŠ è½½æºç ç›®å½•ã€‚æ­£ç¡®åšæ³•æ˜¯ï¼š
1. å…ˆè¿è¡Œ `cd packages/ext && bun run build` æ„å»ºæ‰©å±•
2. åœ¨æµè§ˆå™¨ä¸­åŠ è½½é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ `dist/chrome-mv3` ç›®å½•

è¯¦è§ [å¿«é€Ÿå¼€å§‹æŒ‡å—](./packages/ext/QUICK_START.md)ã€‚

**é—®ï¼šå¦‚ä½•è·å–æœ€æ–°ç‰ˆæœ¬çš„æ‰©å±•ï¼Ÿ**

ç­”ï¼šæœ¬é¡¹ç›®æœªåœ¨ Chrome Web Store ä¸Šæ¶ï¼Œè·å–æœ€æ–°ç‰ˆæœ¬çš„æ–¹å¼ï¼š
1. ä» GitHub Actions ä¸‹è½½æ„å»ºäº§ç‰©ï¼ˆæ¨èï¼‰
2. ä»æºç æ„å»ºå®‰è£…

**é—®ï¼šæ”¯æŒå“ªäº› AI æ¨¡å‹ï¼Ÿ**

ç­”ï¼šæ”¯æŒæ‰€æœ‰å…¼å®¹ OpenAI API æ ¼å¼çš„æ¨¡å‹ï¼ŒåŒ…æ‹¬ï¼š
- OpenAI å®˜æ–¹æ¨¡å‹ï¼ˆGPT-4oã€GPT-4o-miniã€GPT-3.5-turbo ç­‰ï¼‰
- Azure OpenAI æœåŠ¡
- æœ¬åœ°æ¨¡å‹ï¼ˆOllamaã€LM Studioã€vLLM ç­‰ï¼‰
- å…¶ä»–å…¼å®¹ OpenAI API çš„æœåŠ¡

**é—®ï¼šå¦‚ä½•è·å–å¯ç”¨æ¨¡å‹åˆ—è¡¨ï¼Ÿ**

ç­”ï¼šåœ¨è®¾ç½®é¡µé¢é…ç½®å¥½ API Key å’ŒåŸºç¡€åœ°å€åï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è·å–å¯ç”¨æ¨¡å‹åˆ—è¡¨ï¼Œä½ ä¹Ÿå¯ä»¥ç‚¹å‡»"åˆ·æ–°æ¨¡å‹åˆ—è¡¨"æ‰‹åŠ¨åˆ·æ–°ã€‚

